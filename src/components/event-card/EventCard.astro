---
export const prerender = true;
const { eventInfo } = Astro.props;
import { format } from "date-fns";
import { boroughBadgeStyle } from "./event-card-utils";
import {
  Card,
  CardDescription,
  CardHeader,
  CardTitle,
  CardContent,
  CardFooter,
} from "@/components/ui/card";
import { Badge } from "@/components/ui/badge";
import { Separator } from "../ui/separator";

import { cn } from "@/lib/utils";

const startDate = new Date(eventInfo.start_date_time as string);
const endDate = new Date(eventInfo.end_date_time as string);
const dateMonth = format(startDate, "LLL");
const dateDay = format(startDate, "d");
const dateYear = format(startDate, "yyyy");

const startTime = format(startDate, "p");
const endTime = format(endDate, "p");

---

<Card>
  <CardHeader>
    <CardTitle>{`${dateMonth} ${dateDay} ${dateYear}`} </CardTitle>
    <CardDescription>{startTime} - {endTime}</CardDescription>
  </CardHeader>
  <CardContent className="flex flex-col gap-2">
    <p class="text-lg font-semibold">{eventInfo.event_name}</p>
    <Separator />
    <p class="text-[15px]">{eventInfo.event_location?.split(",")[0]}</p>
  </CardContent>
  <CardFooter className="flex flex-row gap-2">
    <Badge className={cn(boroughBadgeStyle(eventInfo.event_borough))}
      >{eventInfo.event_borough}</Badge
    >
    <!-- <Badge>{eventInfo.event_type}</Badge> -->
  </CardFooter>
</Card>
